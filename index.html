<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuneQuest NPC Generator</title>
    <style>
        body {
            font-family: "Arial", sans-serif;
            background-color: #000;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 1rem;
        }
        .section {
            border: 1px solid #555;
            padding: 1rem;
            margin: 1rem;
            border-radius: 6px;
            background-color: #111;
        }
        h2 { font-size: 1.5rem; color: #FFD700; }
        input, button {
            padding: 0.5rem;
            font-size: 1rem;
            border-radius: 4px;
            border: 1px solid #555;
            background-color: #222;
            color: #fff;
            margin-top: 0.3rem;
        }
        button:hover { background-color: #0078D7; }
    </style>
</head>
<body>

    <h2>üé≤ RuneQuest NPC Generator</h2>

    <div class="section">
        <h3>Character Rating (CR) Overview</h3>
        <p><strong>CR 0-2:</strong> Novice, commoner, weak combatant</p>
        <p><strong>CR 3-5:</strong> Skilled warrior, professional guard, veteran adventurer</p>
        <p><strong>CR 6-8:</strong> Elite fighter, experienced magician, feared champion</p>
        <p><strong>CR 9-10:</strong> Legendary hero, Rune Lord, renowned war leader</p>
    </div>

    <div class="section">
        <h3>NPC Creation</h3>
        <input type="number" id="crInput" placeholder="Character Rating (CR)" min="0" max="10">
        <input type="text" id="weaponName1" placeholder="Weapon 1 Name">
        <input type="text" id="weaponDamage1" placeholder="Weapon 1 Damage">
        <input type="text" id="shieldName" placeholder="Shield Name">
        <input type="number" id="shieldHP" placeholder="Shield HP">
        <input type="text" id="spiritMagic" placeholder="Spirit Magic (3 spells)">
        <input type="text" id="runeMagic" placeholder="Rune Magic (1 spell)">
        <button onclick="generateNPC()">Generate NPC</button>
        <p id="npcStats">üìú NPC details will appear here.</p>
    </div>

    <div class="section">
        <h3>Combat Tracking</h3>
        <button onclick="rollAttack()">Roll Attack</button>
        <p id="combatResults">‚öîÔ∏è Attack results will appear here.</p>
        <h3>Hit Location</h3>
        <p id="hitLocation">ü©∏ Location hit will be displayed here.</p>
        <h3>Damage History</h3>
        <p id="damageLog">üìú Previous hits will be logged here.</p>
    </div>

    <script>
        function generateNPC() {
            let cr = parseInt(document.getElementById("crInput").value);
            let weapon1 = document.getElementById("weaponName1").value + " (" + document.getElementById("weaponDamage1").value + ")";
            let shield = document.getElementById("shieldName").value + " (HP: " + document.getElementById("shieldHP").value + ")";
            let spiritMagic = document.getElementById("spiritMagic").value;
            let runeMagic = document.getElementById("runeMagic").value;

            let totalHP = 10 + cr;
            let magicPoints = totalHP; // POW = Magic Points

            let armorChest = Math.round(6 * 1.0);
            let armorHead = Math.round(armorChest * 0.8);
            let armorAbdomen = Math.round(armorChest * 0.8);
            let armorArms = Math.round(armorChest * 0.6);
            let armorLegs = Math.round(armorChest * 0.7);

            document.getElementById("npcStats").innerHTML = `
                üõ°Ô∏è CR: ${cr} | HP: ${totalHP} | Magic Points: ${magicPoints} <br>
                ‚öîÔ∏è Weapon: ${weapon1} | Shield: ${shield} <br>
                ‚ú® Spirit Magic: ${spiritMagic} | Rune Magic: ${runeMagic} <br>
                üè∞ Armor: Head (${armorHead}), Chest (${armorChest}), Abdomen (${armorAbdomen}), Arms (${armorArms}), Legs (${armorLegs})
            `;
        }

        function rollAttack() {
            let roll = Math.floor(Math.random() * 100) + 1;
            let result = "Miss";
            if (roll <= 5) result = "Fumble!";
            else if (roll <= 25) result = "Failure";
            else if (roll <= 75) result = "Success";
            else if (roll <= 90) result = "Special Success!";
            else result = "Critical Hit!";
            
            let hitLocations = ["Head", "Chest", "Abdomen", "Right Arm", "Left Arm", "Right Leg", "Left Leg"];
            let hitLocation = hitLocations[Math.floor(Math.random() * hitLocations.length)];
            
            document.getElementById("combatResults").innerHTML = `‚öîÔ∏è Attack Roll: ${roll} ‚Üí ${result}`;
            document.getElementById("hitLocation").innerHTML = `ü©∏ Hit Location: ${hitLocation}`;
            document.getElementById("damageLog").innerHTML += `<br>‚úÖ ${result} ‚Üí ${hitLocation}`;
        }
    </script>

</body>
</html>
