<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuneQuest NPC Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            text-align: center;
            padding: 1rem;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }
        .section {
            border: 1px solid #555;
            padding: 1rem;
            width: 300px;
            background-color: #111;
            border-radius: 6px;
        }
        h2 { color: #FFD700; }
        input, button {
            padding: 0.5rem;
            font-size: 1rem;
            border-radius: 4px;
            background-color: #222;
            color: #fff;
            margin-top: 0.3rem;
        }
        button:hover { background-color: #0078D7; }
        .humanoid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            text-align: center;
        }
        .body-part {
            border: 1px solid #555;
            padding: 10px;
            background-color: #222;
            border-radius: 6px;
        }
    </style>
</head>
<body>

    <h2>üé≤ RuneQuest NPC Generator</h2>

    <div class="container">
        <div class="section">
            <h3>NPC Setup</h3>
            <input type="number" id="totalHP" placeholder="Total HP">
            <input type="text" id="weapon1" placeholder="Weapon 1">
            <input type="number" id="weaponHP1" placeholder="Weapon 1 HP">
            <input type="text" id="weapon2" placeholder="Weapon 2">
            <input type="number" id="weaponHP2" placeholder="Weapon 2 HP">
            <input type="text" id="shield" placeholder="Shield">
            <input type="number" id="shieldHP" placeholder="Shield HP">
            <button onclick="resetCombat()">Reset Combat</button>
        </div>

        <div class="section">
            <h3>Combat Tracking</h3>
            <button onclick="rollAttack('weapon1')">Attack with Weapon 1</button>
            <button onclick="rollAttack('weapon2')">Attack with Weapon 2</button>
            <button onclick="rollParry()">Parry with Shield</button>
            <p id="combatResult">‚öîÔ∏è Attack results will appear here.</p>
            <p id="damageLog">üìú Damage log will appear here.</p>
        </div>

        <div class="section">
            <h3>Humanoid Hit Location</h3>
            <div class="humanoid">
                <div class="body-part">Head HP: <input type="number" id="headHP" value="8"></div>
                <div class="body-part">Right Arm HP: <input type="number" id="rightArmHP" value="6"></div>
                <div class="body-part">Left Arm HP: <input type="number" id="leftArmHP" value="6"></div>
                <div class="body-part">Chest HP: <input type="number" id="chestHP" value="10"></div>
                <div class="body-part">Abdomen HP: <input type="number" id="abdomenHP" value="8"></div>
                <div class="body-part">Right Leg HP: <input type="number" id="rightLegHP" value="6"></div>
                <div class="body-part">Left Leg HP: <input type="number" id="leftLegHP" value="6"></div>
            </div>
        </div>
    </div>

    <script>
        function rollAttack(weapon) {
            let roll = Math.floor(Math.random() * 100) + 1;
            let result = "Miss";
            if (roll <= 5) result = "Fumble!";
            else if (roll <= 25) result = "Failure";
            else if (roll <= 75) result = "Success";
            else if (roll <= 90) result = "Special Success!";
            else result = "Critical Hit!";
            
            let hitLocations = ["Head", "Right Arm", "Left Arm", "Chest", "Abdomen", "Right Leg", "Left Leg"];
            let hitLocation = hitLocations[Math.floor(Math.random() * hitLocations.length)];
            
            if (result !== "Miss" && result !== "Failure") {
                document.getElementById("combatResult").innerHTML = `‚öîÔ∏è ${weapon} Attack Roll: ${roll} ‚Üí ${result} (Hits ${hitLocation})`;
                document.getElementById("damageLog").innerHTML += `<br>‚úÖ ${result} ‚Üí ${hitLocation}`;
                reduceHP(hitLocation);
            } else {
                document.getElementById("combatResult").innerHTML = `‚öîÔ∏è ${weapon} Attack Roll: ${roll} ‚Üí ${result} (No damage)`;
            }
        }

        function rollParry() {
            let roll = Math.floor(Math.random() * 100) + 1;
            let result = roll <= 50 ? "Successful Parry!" : "Failed Parry!";
            document.getElementById("combatResult").innerHTML = `üõ°Ô∏è Shield Parry Roll: ${roll} ‚Üí ${result}`;
        }

        function reduceHP(location) {
            let locationID = location.toLowerCase().replace(" ", "") + "HP";
            let currentHP = parseInt(document.getElementById(locationID).value);
            document.getElementById(locationID).value = Math.max(0, currentHP - 3);
            
            let totalHP = parseInt(document.getElementById("totalHP").value);
            document.getElementById("totalHP").value = Math.max(0, totalHP - 3);
        }

        function resetCombat() {
            document.getElementById("combatResult").innerHTML = "‚öîÔ∏è Attack results will appear here.";
            document.getElementById("damageLog").innerHTML = "üìú Damage log will appear here.";
        }
    </script>

</body>
</html>
